## 网络核心

由数据交换节点和它们之间的链路组成。



关键功能：

路由：决定分组采用的源到目标的路径

转发：将分组从路由器的输入链路转移到输出链路





#### 电路交换（线路交换）

在交换节点之间建立专门的通信链路。

独享资源，每个呼叫一旦建立起来就能保证性能。如果呼叫没有数据交换，则会造成资源的浪费。

通常被传统电话网路采用。



频分多路复用（FDM），时分多路复用（TDM），波分多路复用（WDM），码分多路复用



**电路交换不适合计算机之间的通信：**

1.  连接建立时间长
2.  计算机之间的通信具有突发性，如果使用线路交换，则浪费的片比较多：（即使某个呼叫没有数据传递，其所占据的片也不能被别的呼叫使用）
3.  可靠性不高？（一个交换机需要维护多个piece到piece的映射关系）



#### 分组交换

以分组为单位进行存储转发

网络带宽资源不再分为一个个piece，传输时使用全部带宽；主机之间的传输数据被分为多个分组

统计多路复用（划分时间片的方式不固定）

**特点**：资源共享，按需使用，适用于突发性的数据通信



**存储、转发**：分组每次移动一跳

-   在转发之前，节点必须收到（存储）整个分组
-   延迟比线路交换要大
-   需要考虑排队时间和传播时延



**排队**和**延迟**：

如果分组的到达速率大于链路的输出速率：

1.  分组将会排队，等待传输
2.  如果路由器的缓存不足，分组将被丢弃





分组交换按照网络层有无连接分为**数据报**网络和**虚电路**网络。

#### 数据报网络：

源主机发送给目标主机的分组包含目标主机的完整地址。

主机在通信之前不需要握手（不需要建立连接）。有数据就传输。

每个分组都独立路由（路径不一样，可能会失序）。路由器根据分组的目标地址进行路由。

#### 虚电路网络：

主机和目标主机通信之前先握手，在交换节点之间建立起一条虚拟的线路。

每个分组在传输时携带一个虚电路号，而不是目标主机的完整地址。

虚电路通过“信令”建立。



举例：数据报网络是按照地址问路；虚电路是先去一次，熟悉一次路线后再进行发送